EESchema Schematic File Version 2
LIBS:+1v2
LIBS:+1v8
LIBS:+3v3
LIBS:+5v
LIBS:ant
LIBS:c
LIBS:cm1624
LIBS:conn-2
LIBS:conn-2x5
LIBS:conn-4
LIBS:cp
LIBS:d
LIBS:debugheader
LIBS:drv883x
LIBS:ferrite
LIBS:gnd
LIBS:ICE40HX4K-144
LIBS:ina199
LIBS:ip425xcz12
LIBS:jtag
LIBS:l
LIBS:led
LIBS:lm3671
LIBS:lpddrx16
LIBS:mag3110
LIBS:max9938
LIBS:mchck
LIBS:mic5205
LIBS:microsd
LIBS:mounthole
LIBS:mounting-hole
LIBS:mpl3115a2
LIBS:mpu6050
LIBS:mpu-6050
LIBS:nmos
LIBS:power_flag
LIBS:pwr
LIBS:r
LIBS:r4
LIBS:SAM3U-144
LIBS:sit1602
LIBS:solder-jumper-nc
LIBS:spiflash
LIBS:tactile-4
LIBS:test
LIBS:testpoint
LIBS:thermistor
LIBS:tlv713
LIBS:tpd4s012
LIBS:tps27081a
LIBS:ts3usb31
LIBS:usb
LIBS:usb334x
LIBS:USB3300
LIBS:vana
LIBS:varef
LIBS:vbu
LIBS:vcore
LIBS:vin
LIBS:vio
LIBS:vout
LIBS:vpll
LIBS:vutmi
LIBS:xtal
LIBS:tp4056
LIBS:buck-sot23-5
LIBS:pot
LIBS:pmos
LIBS:lipo-charger-power-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L USB-MICROB J?
U 1 1 553965D0
P 1150 1750
F 0 "J?" H 975 1250 60  0000 L CNN
F 1 "USB-MICROB" H 975 1350 60  0000 L CNN
F 2 "" H 1250 1400 60  0000 C CNN
F 3 "" H 1250 1400 60  0000 C CNN
	1    1150 1750
	1    0    0    -1  
$EndComp
$Comp
L TP4056 U?
U 1 1 55397468
P 2900 1750
F 0 "U?" H 2550 2150 60  0000 L CNN
F 1 "TP4056" H 3250 2150 60  0000 R CNN
F 2 "" H 2900 1750 60  0000 C CNN
F 3 "" H 2900 1750 60  0000 C CNN
	1    2900 1750
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 553974AF
P 1800 1600
F 0 "C?" H 1825 1625 30  0000 L CNN
F 1 "10u" H 1825 1575 30  0000 L CNN
F 2 "" H 1700 1650 60  0000 C CNN
F 3 "" H 1700 1650 60  0000 C CNN
	1    1800 1600
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5539756F
P 4050 1600
F 0 "C?" H 4075 1625 30  0000 L CNN
F 1 "10u" H 4075 1575 30  0000 L CNN
F 2 "" H 3950 1650 60  0000 C CNN
F 3 "" H 3950 1650 60  0000 C CNN
	1    4050 1600
	1    0    0    -1  
$EndComp
$Comp
L CONN-2 J?
U 1 1 553975CA
P 3800 1200
F 0 "J?" H 4050 1250 40  0000 L CNN
F 1 "BAT" H 4050 1150 40  0000 L CNN
F 2 "" H 3900 1000 60  0000 C CNN
F 3 "" H 3900 1000 60  0000 C CNN
	1    3800 1200
	0    -1   -1   0   
$EndComp
$Comp
L CONN-2 J?
U 1 1 553976E2
P 6250 1550
F 0 "J?" H 6500 1600 40  0000 L CNN
F 1 "VREG" H 6500 1500 40  0000 L CNN
F 2 "" H 6350 1350 60  0000 C CNN
F 3 "" H 6350 1350 60  0000 C CNN
	1    6250 1550
	1    0    0    -1  
$EndComp
$Comp
L BUCK-SOT23-5 U?
U 1 1 55397994
P 4650 1600
F 0 "U?" H 4400 1850 40  0000 L CNN
F 1 "NCP1529" H 4900 1850 40  0000 R CNN
F 2 "" H 4650 1600 60  0000 C CNN
F 3 "" H 4650 1600 60  0000 C CNN
	1    4650 1600
	1    0    0    -1  
$EndComp
$Comp
L L L?
U 1 1 55397A4D
P 5200 1500
F 0 "L?" H 5125 1600 40  0000 L CNN
F 1 "2.2u" H 5125 1550 40  0000 L CNN
F 2 "" H 5200 1500 60  0000 C CNN
F 3 "" H 5200 1500 60  0000 C CNN
	1    5200 1500
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 55397B88
P 5900 1600
F 0 "C?" H 5925 1625 30  0000 L CNN
F 1 "10u" H 5925 1575 30  0000 L CNN
F 2 "" H 5800 1650 60  0000 C CNN
F 3 "" H 5800 1650 60  0000 C CNN
	1    5900 1600
	1    0    0    -1  
$EndComp
$Comp
L MOUNTHOLE MH?
U 1 1 55397BCD
P 1450 3300
F 0 "MH?" H 1600 3350 50  0001 C CNN
F 1 "MOUNTHOLE" H 1450 3450 50  0001 C CNN
F 2 "" H 1450 3300 50  0000 C CNN
F 3 "" H 1450 3300 50  0000 C CNN
	1    1450 3300
	1    0    0    -1  
$EndComp
$Comp
L MOUNTHOLE MH?
U 1 1 55397C32
P 1650 3300
F 0 "MH?" H 1800 3350 50  0001 C CNN
F 1 "MOUNTHOLE" H 1650 3450 50  0001 C CNN
F 2 "" H 1650 3300 50  0000 C CNN
F 3 "" H 1650 3300 50  0000 C CNN
	1    1650 3300
	1    0    0    -1  
$EndComp
$Comp
L MOUNTHOLE MH?
U 1 1 55397C4F
P 1850 3300
F 0 "MH?" H 2000 3350 50  0001 C CNN
F 1 "MOUNTHOLE" H 1850 3450 50  0001 C CNN
F 2 "" H 1850 3300 50  0000 C CNN
F 3 "" H 1850 3300 50  0000 C CNN
	1    1850 3300
	1    0    0    -1  
$EndComp
$Comp
L MOUNTHOLE MH?
U 1 1 55397C6C
P 2050 3300
F 0 "MH?" H 2200 3350 50  0001 C CNN
F 1 "MOUNTHOLE" H 2050 3450 50  0001 C CNN
F 2 "" H 2050 3300 50  0000 C CNN
F 3 "" H 2050 3300 50  0000 C CNN
	1    2050 3300
	1    0    0    -1  
$EndComp
$Comp
L POT R?
U 1 1 55397DB3
P 5400 1650
F 0 "R?" H 5425 1675 30  0000 L CNN
F 1 "1M" H 5425 1625 30  0000 L CNN
F 2 "" H 5400 1650 60  0000 C CNN
F 3 "" H 5400 1650 60  0000 C CNN
	1    5400 1650
	1    0    0    -1  
$EndComp
Text Notes 5050 2500 0    40   ~ 0
Vout = 0.6V * (1 + R1/R2)
Text Notes 5050 2850 0    40   ~ 0
Requirement:\n- 100k <= R2 <= 600k\n- 1.8V <= Vout <= 3.6V\n\n-> 2*R2 <= R1 <= 5*R2\n
$Comp
L R R?
U 1 1 5539833E
P 5400 1850
F 0 "R?" H 5425 1875 30  0000 L CNN
F 1 "270k" H 5425 1825 30  0000 L CNN
F 2 "" H 5400 1850 60  0000 C CNN
F 3 "" H 5400 1850 60  0000 C CNN
	1    5400 1850
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 553983F8
P 5400 2050
F 0 "R?" H 5425 2075 30  0000 L CNN
F 1 "270k" H 5425 2025 30  0000 L CNN
F 2 "" H 5400 2050 60  0000 C CNN
F 3 "" H 5400 2050 60  0000 C CNN
	1    5400 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 1950 5400 1950
Wire Wire Line
	5400 1950 5600 1950
Wire Wire Line
	5200 1700 5200 1950
Wire Wire Line
	5350 1650 5350 1750
Wire Wire Line
	5350 1750 5400 1750
$Comp
L PGND #PWR?
U 1 1 553984AB
P 5400 2150
F 0 "#PWR?" V 5520 2150 60  0001 C CNN
F 1 "PGND" H 5400 2060 30  0000 C CNN
F 2 "" H 5400 2100 60  0000 C CNN
F 3 "" H 5400 2100 60  0000 C CNN
	1    5400 2150
	1    0    0    -1  
$EndComp
$Comp
L LED D?
U 1 1 55398E44
P 2300 1800
F 0 "D?" H 2325 1825 30  0000 L CNN
F 1 "CHRG" H 2325 1775 30  0000 L CNN
F 2 "" H 2300 1800 60  0000 C CNN
F 3 "" H 2300 1800 60  0000 C CNN
	1    2300 1800
	0    -1   -1   0   
$EndComp
$Comp
L LED D?
U 1 1 55398EC6
P 2300 1900
F 0 "D?" H 2325 1925 30  0000 L CNN
F 1 "STDBY" H 2325 1875 30  0000 L CNN
F 2 "" H 2300 1900 60  0000 C CNN
F 3 "" H 2300 1900 60  0000 C CNN
	1    2300 1900
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 55398EFD
P 2150 1650
F 0 "R?" H 2175 1675 30  0000 L CNN
F 1 "1.2k" H 2175 1625 30  0000 L CNN
F 2 "" H 2150 1650 60  0000 C CNN
F 3 "" H 2150 1650 60  0000 C CNN
	1    2150 1650
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 55398F35
P 2050 1650
F 0 "R?" H 2075 1675 30  0000 L CNN
F 1 "1.2k" H 2075 1625 30  0000 L CNN
F 2 "" H 2050 1650 60  0000 C CNN
F 3 "" H 2050 1650 60  0000 C CNN
	1    2050 1650
	1    0    0    -1  
$EndComp
$Comp
L PGND #PWR?
U 1 1 55399070
P 2900 2150
F 0 "#PWR?" V 3020 2150 60  0001 C CNN
F 1 "PGND" H 2900 2060 30  0000 C CNN
F 2 "" H 2900 2100 60  0000 C CNN
F 3 "" H 2900 2100 60  0000 C CNN
	1    2900 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 1700 5200 1700
Wire Wire Line
	5050 1500 5100 1500
Wire Wire Line
	5300 1500 5400 1500
Wire Wire Line
	5400 1500 5600 1500
Wire Wire Line
	5600 1500 5900 1500
Wire Wire Line
	5900 1500 6250 1500
Wire Wire Line
	5400 1500 5400 1550
Wire Wire Line
	5900 1500 5900 1550
Connection ~ 5400 1500
$Comp
L PGND #PWR?
U 1 1 553995AA
P 5900 1650
F 0 "#PWR?" V 6020 1650 60  0001 C CNN
F 1 "PGND" H 5900 1560 30  0000 C CNN
F 2 "" H 5900 1600 60  0000 C CNN
F 3 "" H 5900 1600 60  0000 C CNN
	1    5900 1650
	1    0    0    -1  
$EndComp
$Comp
L PGND #PWR?
U 1 1 553996AC
P 4650 1950
F 0 "#PWR?" V 4770 1950 60  0001 C CNN
F 1 "PGND" H 4650 1860 30  0000 C CNN
F 2 "" H 4650 1900 60  0000 C CNN
F 3 "" H 4650 1900 60  0000 C CNN
	1    4650 1950
	1    0    0    -1  
$EndComp
Connection ~ 5900 1500
$Comp
L C C?
U 1 1 553996EE
P 5600 1750
F 0 "C?" H 5625 1775 30  0000 L CNN
F 1 "18p" H 5625 1725 30  0000 L CNN
F 2 "" H 5500 1800 60  0000 C CNN
F 3 "" H 5500 1800 60  0000 C CNN
	1    5600 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5600 1950 5600 1800
Connection ~ 5400 1950
Wire Wire Line
	5600 1700 5600 1500
Connection ~ 5600 1500
$Comp
L PGND #PWR?
U 1 1 553998B2
P 6200 1650
F 0 "#PWR?" V 6320 1650 60  0001 C CNN
F 1 "PGND" H 6200 1560 30  0000 C CNN
F 2 "" H 6200 1600 60  0000 C CNN
F 3 "" H 6200 1600 60  0000 C CNN
	1    6200 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 1600 6200 1600
Wire Wire Line
	6200 1600 6200 1650
Wire Wire Line
	4250 1500 4200 1500
Wire Wire Line
	4200 1500 4050 1500
Wire Wire Line
	4050 1500 3750 1500
Wire Wire Line
	3750 1500 3400 1500
$Comp
L PGND #PWR?
U 1 1 553999C4
P 3850 1250
F 0 "#PWR?" V 3970 1250 60  0001 C CNN
F 1 "PGND" H 3850 1160 30  0000 C CNN
F 2 "" H 3850 1200 60  0000 C CNN
F 3 "" H 3850 1200 60  0000 C CNN
	1    3850 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3850 1200 3850 1250
Wire Wire Line
	3750 1500 3750 1200
Connection ~ 3750 1500
Wire Wire Line
	4050 1550 4050 1500
Connection ~ 4050 1500
$Comp
L PGND #PWR?
U 1 1 55399AB9
P 4050 1650
F 0 "#PWR?" V 4170 1650 60  0001 C CNN
F 1 "PGND" H 4050 1560 30  0000 C CNN
F 2 "" H 4050 1600 60  0000 C CNN
F 3 "" H 4050 1600 60  0000 C CNN
	1    4050 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4200 1500 4200 1700
Wire Wire Line
	4200 1700 4250 1700
Connection ~ 4200 1500
Wire Wire Line
	1450 1500 1800 1500
Wire Wire Line
	1800 1500 2050 1500
Wire Wire Line
	2050 1500 2150 1500
Wire Wire Line
	2150 1500 2350 1500
Wire Wire Line
	2350 1500 2400 1500
Wire Wire Line
	2350 1500 2350 1600
Wire Wire Line
	2350 1600 2400 1600
Connection ~ 2350 1500
$Comp
L PGND #PWR?
U 1 1 55399D1A
P 1650 2100
F 0 "#PWR?" V 1770 2100 60  0001 C CNN
F 1 "PGND" H 1650 2010 30  0000 C CNN
F 2 "" H 1650 2050 60  0000 C CNN
F 3 "" H 1650 2050 60  0000 C CNN
	1    1650 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 2000 1650 2000
Wire Wire Line
	1650 1900 1650 2000
Wire Wire Line
	1650 2000 1650 2100
Wire Wire Line
	1800 1550 1800 1500
Connection ~ 1800 1500
$Comp
L PGND #PWR?
U 1 1 55399E00
P 1800 1650
F 0 "#PWR?" V 1920 1650 60  0001 C CNN
F 1 "PGND" H 1800 1560 30  0000 C CNN
F 2 "" H 1800 1600 60  0000 C CNN
F 3 "" H 1800 1600 60  0000 C CNN
	1    1800 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 1900 1650 1900
Connection ~ 1650 2000
NoConn ~ 1450 1600
NoConn ~ 1450 1700
NoConn ~ 1450 1800
$Comp
L POT R?
U 1 1 55399EFD
P 3500 2100
F 0 "R?" H 3525 2125 30  0000 L CNN
F 1 "1k" H 3525 2075 30  0000 L CNN
F 2 "" H 3500 2100 60  0000 C CNN
F 3 "" H 3500 2100 60  0000 C CNN
	1    3500 2100
	1    0    0    -1  
$EndComp
$Comp
L PGND #PWR?
U 1 1 55399F7A
P 3500 1800
F 0 "#PWR?" V 3620 1800 60  0001 C CNN
F 1 "PGND" H 3500 1710 30  0000 C CNN
F 2 "" H 3500 1750 60  0000 C CNN
F 3 "" H 3500 1750 60  0000 C CNN
	1    3500 1800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3400 1800 3500 1800
Text Notes 2750 2650 0    40   ~ 0
Ibat = 1V/Rprog * 1200
$Comp
L R R?
U 1 1 5539A0EE
P 3500 2300
F 0 "R?" H 3525 2325 30  0000 L CNN
F 1 "1.2k" H 3525 2275 30  0000 L CNN
F 2 "" H 3500 2300 60  0000 C CNN
F 3 "" H 3500 2300 60  0000 C CNN
	1    3500 2300
	1    0    0    -1  
$EndComp
$Comp
L PGND #PWR?
U 1 1 5539A152
P 3500 2400
F 0 "#PWR?" V 3620 2400 60  0001 C CNN
F 1 "PGND" H 3500 2310 30  0000 C CNN
F 2 "" H 3500 2350 60  0000 C CNN
F 3 "" H 3500 2350 60  0000 C CNN
	1    3500 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 1900 3500 1900
Wire Wire Line
	3500 1900 3500 2000
Wire Wire Line
	3450 2100 3450 2000
Wire Wire Line
	3450 2000 3500 2000
Wire Wire Line
	2050 1500 2050 1550
Connection ~ 2050 1500
Wire Wire Line
	2150 1500 2150 1550
Connection ~ 2150 1500
Wire Wire Line
	2150 1750 2150 1800
Wire Wire Line
	2150 1800 2200 1800
Wire Wire Line
	2050 1750 2050 1900
Wire Wire Line
	2050 1900 2200 1900
Text Notes 4950 1300 0    40   ~ 0
I_L is dominated by load current;\nripple current is small (<150mA)
Text Notes 5750 2150 0    40   Italic 8
XXX 10% tolerance pot can only regulate to 3.2V!
Text Notes 5300 1000 0    40   ~ 0
add option for current sense amplifier?
$EndSCHEMATC
